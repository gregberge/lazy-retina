<html>
  <head>
    <title>detached element test</title>
    <script src="../lazy-retina.js"></script>
    <script>lzld.config.retina = false;</script>
    <script src="./jquery-1.7.2.js"></script>
  </head>
  <body>

    <h1>When</h1>
    <p>An image is below the fold</p>
    <p>And it gets registered into the lazyloader</p>
    <p>But is not shown because it is far from the fold</p>
    <p>And it gets removed by some JavaScript</p>
    <p>When we scroll to the bottom, we do not fail in I.E (no error)</p>

    <div style="margin-top:3000px; width:100px; height:200px"></p>
    <div style="margin-top:300px; width:100px; height:200px; background:blue"></div>
    <img id="removeme" data-src="imgs/11.jpg" src=data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw== onload=lzld(this) onerror=lzld(this) />k

    <script>
      $(function() {
        $('#removeme').detach();
      });
    </script>
  </body>
</html>
